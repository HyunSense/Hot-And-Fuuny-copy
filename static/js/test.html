<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- bootstrap cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <form action="" onsubmit="return validateForm()">
        <label class="form-label m-1" for="new_id">이메일</label>
        <span class="small" style="color: #ea10ac; display: none;" id="email_err">5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.</span>
        <input type="text" class="form-control" id="new_email"
        autocomplete="off" placeholder="5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다."/>
        <!-- 비밀번호 -->
        <label class="form-label m-1" for="">비밀번호</label>
        <span class="small" style="color: #ea10ac; display: none;" id="pw_err">8~16자의 영문 대/소문자, 숫자, 특수문자를 사용해 주세요.</span>
        <input type="password" class="form-control" id="new_password"
        required placeholder="8~16자의 영문 대/소문자, 숫자, 특수문자를 사용해 주세요."/>
        <!-- 비밀번호 재확인 -->
        <label class="form-label m-1" for="new_password">비밀번호 확인</label>
        <span class="small" style="color: #ea10ac; display: none;" id="repw_err">비밀번호를 일치 시켜주세요.</span>
        <input type="password" class="form-control" id="new_re_password"
        required placeholder="비밀번호를 일치 시켜주세요."/>
        <button class="btn btn-primary btn-lg m-3 border-0" type="submit" id="loginBtn">Signup</button>
    </form>

    <script>
        function validateForm() {
            const emailRegex = /^[a-zA-Z0-9]+@[0-9a-zA-Z]+\.[a-z]g+$/m;
            const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,16}$/;

            let new_email = document.getElementById('new_email');
            let email_val = new_email.value;
            let email_err = document.getElementById('email_err');

            let new_password = document.getElementById('new_password');
            let password_val = new_password.value;
            let pw_err = document.getElementById('pw_err');

            let new_re_password = document.getElementById('new_re_password');
            let re_password_val = new_re_password.value;
            let repw_err = document.getElementById('repw_err');

            if (!emailRegex.test(email_val)) {
                email_err.style.display = 'block';
            }

            if (!passwordRegex.test(password_val)) {
                pw_err.style.display = 'block';
            }

            if (password_val !== re_password_val) {
                repw_err.style.display = 'block';
                return false;
            }

            return true;
        }
    </script>
</body>
</html>
